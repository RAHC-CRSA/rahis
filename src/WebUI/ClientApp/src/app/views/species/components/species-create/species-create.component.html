<c-row ngPreserveWhitespaces>
  <c-col xs="12">
    <c-card class="mb-4">
      <c-card-header>
        <strong>Add Species</strong>
      </c-card-header>
      <c-card-body>
        <form cForm [formGroup]="speciesForm" novalidate="novalidate" (ngSubmit)="submit()" class="needs-validation">
          <c-row class="g-3 mb-3">
            <c-col xs>
              <input aria-label="Species name" cFormControl formControlName="name" placeholder="Species name" [ngClass]="{
                'border border-danger':
                  speciesForm.controls['name'].touched &&
                  speciesForm.controls['name'].invalid
              }" />
              <ng-container [ngTemplateOutlet]="formError"
                [ngTemplateOutletContext]="{validation: 'required', message: 'Species name is required', control: speciesForm.controls['name']}"></ng-container>
              <ng-container [ngTemplateOutlet]="formError"
                [ngTemplateOutletContext]="{validation: 'minlength', message: 'Species name should have at least 3 characters', control: speciesForm.controls['name']}"></ng-container>
            </c-col>
            <c-col xs>
              <input aria-label="Code" cFormControl placeholder="Code" />
            </c-col>
          </c-row>
          <c-row>
            <c-col>
              <button cButton type="submit" class="px-4" color="primary" [disabled]="speciesForm.invalid">
                Submit
              </button>
            </c-col>
          </c-row>
        </form>
      </c-card-body>
    </c-card>
  </c-col>
</c-row>

<ng-template #formError let-control="control" let-message="message" let-validation="validation">
  <ng-container *ngIf="control.hasError(validation) && (control.dirty || control.touched)">
    <div class="text-danger p-2"><small>{{ message }}</small></div>
  </ng-container>
</ng-template>